{{ define "main" -}}
<div class="posts">
{{ $paginator := .Paginate (where .Site.RegularPages "Type" "post") 3 }}
{{ range $paginator.Pages -}}
<article class="post">
  <h1 class="post-title">
    <a href="{{ .Permalink }}">{{ .Title }}</a>
  </h1>
  <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z0700" }}" class="post-date">{{ .Date.Format (.Site.Params.dateformat | default "Jan 02, 2006") }}</time>
  {{ .Summary }}
  {{ if .Truncated }}
  <div class="read-more-link">
    <a href="{{ .RelPermalink }}">Read More â†’</a>
  </div>
  {{ end }}
</article>
{{- end }}
{{ template "_internal/pagination.html" . }}
</div>
{{- end }}
